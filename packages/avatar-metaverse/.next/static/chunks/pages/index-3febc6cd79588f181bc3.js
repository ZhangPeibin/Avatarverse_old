(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9555:function(e){e.exports={1:{contracts:{DAI:{address:"0x6B175474E89094C44Da98b954EedeAC495271d0F",abi:[{inputs:[{internalType:"uint256",name:"chainId_",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"src",type:"address"},{indexed:!0,internalType:"address",name:"guy",type:"address"},{indexed:!1,internalType:"uint256",name:"wad",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!0,inputs:[{indexed:!0,internalType:"bytes4",name:"sig",type:"bytes4"},{indexed:!0,internalType:"address",name:"usr",type:"address"},{indexed:!0,internalType:"bytes32",name:"arg1",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"arg2",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"LogNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"src",type:"address"},{indexed:!0,internalType:"address",name:"dst",type:"address"},{indexed:!1,internalType:"uint256",name:"wad",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"guy",type:"address"}],name:"deny",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"move",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"holder",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"bool",name:"allowed",type:"bool"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"pull",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"push",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"guy",type:"address"}],name:"rely",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"wards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]},UNI:{address:"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",abi:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}]}}}}},417:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});n(2784);var a=n(7356),r=n(1727),i=n(2322);function s(e){var t=e.address,n=(e.userSigner,e.localProvider,e.mainnetProvider),s=(e.price,e.minimized),o=e.web3Modal,p=e.loadWeb3Modal,u=e.logoutOfWeb3Modal,l=e.blockExplorer,c=[];o&&(o.cachedProvider?c.push((0,i.jsx)(r.Z,{style:{verticalAlign:"top",marginLeft:8},shape:"round",size:"large",onClick:u,children:"logout"},"logout")):c.push((0,i.jsx)(r.Z,{style:{verticalAlign:"top",marginLeft:8},shape:"round",size:"large",onClick:p,children:"connect"},"loginbutton")));var d=s?"":(0,i.jsx)("span",{children:t?(0,i.jsx)(a.default,{address:t,ensProvider:n,blockExplorer:l}):"Connecting..."});return(0,i.jsxs)("div",{children:[d,c]})}},7356:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(65),r=n(318),i=(n(2784),n(5415)),s=n(2301),o=n(2322),p=a.Z.Text;function u(e){var t=e.value||e.address,n=(0,s.h)(e.ensProvider,t);if(!t)return(0,o.jsx)("span",{children:(0,o.jsx)(r.Z,{avatar:!0,paragraph:{rows:1}})});var a=t.substr(0,6)+"..."+t.substr(-4),u=n&&n.split(".");u&&"eth"===u[u.length-1]?a=n:"short"===e.size?a+="..."+t.substr(-4):"long"===e.size&&(a=t);var l=function(e,t){return"".concat(t||"https://etherscan.io/","address/").concat(e)}(t,e.blockExplorer);return e.minimized?(0,o.jsx)("span",{style:{verticalAlign:"middle"},children:(0,o.jsx)("a",{style:{color:"#222222"},target:"_blank",href:l,rel:"noopener noreferrer",children:(0,o.jsx)(i.Z,{seed:t.toLowerCase(),size:8,scale:2})})}):(e.onChange?(0,o.jsx)(p,{editable:{onChange:e.onChange},copyable:{text:t},type:"secondary",children:(0,o.jsxs)("a",{target:"_blank",href:l,rel:"noopener noreferrer",children:[a,"34"]})}):(0,o.jsx)(p,{type:"warning",copyable:{text:t},children:(0,o.jsx)("a",{target:"_blank",href:l,rel:"noopener noreferrer",children:a})}),(0,o.jsx)("span",{style:{color:"#222222",paddingLeft:5,fontSize:e.fontSize?e.fontSize:28},children:a}))}},5726:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var a=n(2592),r=n(6577),i=n(2322);function s(){var e=(0,a.$G)("common").t;return(0,i.jsxs)("footer",{className:"flex flex-col items-center pb-4",children:[(0,i.jsx)(r.default,{src:"/icon/line.svg",width:"125",height:"54"}),(0,i.jsx)("div",{className:"flex justify-center mt-10 text-lg",children:e("coffee")}),(0,i.jsx)("div",{className:"text-gray-500 mt-3 px-6 text-center",children:(0,i.jsx)("a",{className:"hover:underline",children:"BSC Address:"})}),(0,i.jsx)("div",{className:"text-gray-500 px-6 text-center",children:"0x53A4D41194054f08a2B9D7301E4936F7F8dd334A "})]})}},1181:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var a=n(6577),r=n(980),i=n(417),s=n(2322);function o(e){return(0,s.jsxs)("header",{className:"relative",children:[(0,s.jsxs)("div",{className:"flex py-5 px-5 sm:px-16 md:px-32",children:[(0,s.jsx)(a.default,{src:"/logo.gif",alt:"Notion Avatar Logo",width:50,height:50}),(0,s.jsxs)("span",{className:"text-lg",children:["NFT",(0,s.jsx)("br",{}),"Avatar Metaverse"]})]}),(0,s.jsx)("div",{className:"absolute top-4  right-64",children:(0,s.jsx)(i.default,{address:e.address,localProvider:e.localProvider,userSigner:e.userSigner,mainnetProvider:e.mainnetProvider,price:e.price,web3Modal:e.web3Modal,loadWeb3Modal:e.loadWeb3Modal,logoutOfWeb3Modal:e.logoutOfWeb3Modal,blockExplorer:e.blockExplorer,minimized:void 0})}),(0,s.jsx)(r.default,{className:"absolute top-0 right-0 w-24 sm:w-28 md:w-36"})]})}},8651:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return B},default:function(){return G}});var a=n(9207),r=n(2847),i=n.n(r),s=n(7729),o=n(2592),p=n(1181),u=n(5726),l=n(9097),c=n(2784),d=n(3682),y=n(4693),m=n.n(y);var f=n(8171),b=n(2169),v=n(241),g=n(6990),x=function(e,t){var n=(0,c.useState)(),a=n[0],r=n[1],i=(0,c.useState)(),s=i[0],o=i[1],p=(0,c.useState)(),u=p[0],l=p[1],d=(0,g.mL)(t);return(0,c.useMemo)((function(){e?(console.log("\ud83e\udd8a Using injected provider"),h(e).then((function(e){null!=e&&r(e.signer)}))):t?(!function(){if(window.location.pathname&&window.location.pathname.includes("/pk")){var e=window.location.hash.replace("#","");if(64===e.length||66===e.length){console.log("\ud83d\udd11 Incoming Private Key...");var t=e;window.history.pushState({},"","/");var n=window.localStorage.getItem("metaPrivateKey");n&&n!==t&&window.localStorage.setItem("metaPrivateKey_backup".concat(Date.now()),n),window.localStorage.setItem("metaPrivateKey",t)}}}(),console.log("\ud83d\udd25 Using burner signer",d),r(d)):r(void 0)}),[e,t,d]),(0,c.useMemo)((function(){a&&h(a).then((function(e){o(e.provider),l(e.providerNetwork)}))}),[a]),{signer:a,provider:s,providerNetwork:u}},h=function(){var e=(0,a.Z)(i().mark((function e(t){var n,a,r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0,!t||!(t instanceof b.r||t instanceof v.Q)){e.next=10;break}return e.next=4,t.listAccounts();case 4:return(s=e.sent)&&s.length>0&&(n=t.getSigner()),a=t,e.next=9,t.getNetwork();case 9:r=e.sent;case 10:if(n||!(t instanceof f.E)){e.next=19;break}if(a=(n=t).provider,e.t0=a,!e.t0){e.next=18;break}return e.next=17,a.getNetwork();case 17:e.t0=e.sent;case 18:r=e.t0;case 19:return e.abrupt("return",{signer:n,provider:a,providerNetwork:r});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=n(4021),T=n(7460),k=n(5349),j=n(7893);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,T.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=n(2451).ethers,O={};var S=JSON.parse('{"80001":{"mumbai":{"name":"mumbai","chainId":"80001","contracts":{"AvatarNFT":{"address":"0x77702659F04679201070B843a9CB08ef9E4c2d4b","abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"string","name":"uri","type":"string"}],"name":"mint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]}}}}}'),P=n(9555),_=n.n(P),A=n(2363),z=n(4333),C=n(2322);function E(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var D,Z=n(2451).ethers,J=new A.j3({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDk4YjFDRUJDMDc5Mzk4NWNGNzM2NzNiNDI1MTVlOTQ0NzM4MmM3RGYiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTYzNTQ1NjMxMDQ3NiwibmFtZSI6ImF2YXRhciJ9.Z6c19_0kTBDYYji-GrMZVAogvTgcXfYuUg7wVLolLvQ"}),R=d.g5.mumbai,W=new Z.providers.StaticJsonRpcProvider("https://rpc.scaffoldeth.io:48544"),L=new Z.providers.StaticJsonRpcProvider("https://eth-mainnet.gateway.pokt.network/v1/lb/611156b4a585a20035148406"),U=new Z.providers.StaticJsonRpcProvider("https://mainnet.infura.io/v3/"+d.Rp),X=R.rpcUrl;console.log("\ud83c\udfe0 Connecting to provider:",X);var Y=new Z.providers.StaticJsonRpcProvider(X),B=!0,G=function(){var e=L&&L._isProvider?L:W&&W._network?W:U,t=(0,o.$G)("common").t,n=(0,c.useState)(),r=n[0],y=n[1],f=(0,c.useState)(),b=f[0],v=f[1],h=x(b,Y).signer,T={deployedContracts:S||{},externalContracts:_()||{}},M=(0,g.Fh)(R,"fast"),P=function(e,t,n){if("undefined"!==typeof e)return function(){var r=(0,a.Z)(i().mark((function r(s,o){var p,u,l,c,y,m,f,b,v,g,x,h,w;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!0!==N.Signer.isSigner(e)){r.next=11;break}if(l=e.provider,p=e,r.t0=e.provider,!r.t0){r.next=8;break}return r.next=7,e.provider.getNetwork();case 7:r.t0=r.sent;case 8:u=r.t0,r.next=17;break;case 11:if(!e._isProvider){r.next=17;break}return l=e,p=e.getSigner(),r.next=16,e.getNetwork();case 16:u=r.sent;case 17:if(console.log("network",u),y=null,c={dappId:d.V4,system:"ethereum",networkId:u.chainId,transactionHandler:function(e){console.log("HANDLE TX",e);var t=O[e.transaction.hash];"function"===typeof t&&t(e.transaction)}},y=(0,j.Z)(c),m="",u.name&&u.chainId>1&&(m=u.name+"."),f="https://"+m+"etherscan.io/tx/",100===u.chainId&&(f="https://blockscout.com/poa/xdai/tx/"),r.prev=26,!(s instanceof Promise)){r.next=34;break}return console.log("AWAITING TX",s),r.next=31,s;case 31:b=r.sent,r.next=40;break;case 34:return s.gasPrice||(s.gasPrice=t||N.utils.parseUnits("4.1","gwei")),s.gasLimit||(s.gasLimit=N.utils.hexlify(12e4)),console.log("RUNNING TX",s),r.next=39,p.sendTransaction(s);case 39:b=r.sent;case 40:if(console.log("RESULT:",b),o&&(O[b.hash]=o),!(y&&[1,3,4,5,42,100].indexOf(u.chainId)>=0)){r.next=47;break}y.hash(b.hash).emitter.on("all",(function(e){return{onclick:function(){return window.open((n||f)+e.hash)}}})),r.next=53;break;case 47:if(k.Z.info({message:"Local Transaction Sent",description:b.hash,placement:"bottomRight"}),!o){r.next=53;break}return r.next=51,s;case 51:v=r.sent,g=setInterval((0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("CHECK IN ON THE TX",v,l),e.next=3,l.getTransactionReceipt(v.hash);case 3:(t=e.sent)&&t.confirmations&&(o(I(I({},v),t)),clearInterval(g));case 5:case"end":return e.stop()}}),e)}))),500);case 53:if("function"!==typeof b.wait){r.next=56;break}return r.next=56,b.wait();case 56:return r.abrupt("return",b);case 59:r.prev=59,r.t1=r.catch(26),console.log(r.t1),x=r.t1.data&&r.t1.data.message?r.t1.data.message:r.t1.error&&JSON.parse(JSON.stringify(r.t1.error)).body?JSON.parse(JSON.parse(JSON.stringify(r.t1.error)).body).error.message:r.t1.data?r.t1.data:JSON.stringify(r.t1),!r.t1.error&&r.t1.message&&(x=r.t1.message),console.log("Attempt to clean up:",x);try{(h=JSON.parse(x))&&h.body&&(w=JSON.parse(h.body))&&w.error&&w.error.message&&(x=w.error.message)}catch(T){}k.Z.error({message:"Transaction Error",description:x}),o&&"function"===typeof o&&o(r.t1);case 68:case"end":return r.stop()}}),r,null,[[26,59]])})));return function(e,t){return r.apply(this,arguments)}}()}(h,M),A=Y&&Y._network&&Y._network.chainId,F=h&&h.provider&&h.provider._network&&h.provider._network.chainId;console.log("localChainId:"+A),console.log("_network:"+Y._network);var X=(0,g.vA)(h,T,A);(0,c.useEffect)((function(){function e(){return(e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(h),!h){e.next=7;break}return e.next=4,h.getAddress();case 4:t=e.sent,console.log(t),y(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[h]);var B,G=function(){var e=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.clearCachedProvider();case 2:if(!b||!b.provider||"function"!=typeof b.provider.disconnect){e.next=5;break}return e.next=5,b.provider.disconnect();case 5:setTimeout((function(){window.location.reload()}),1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=(0,c.useCallback)((0,a.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.connect();case 2:t=e.sent,n=new Z.providers.Web3Provider(t),v(n),t.on("chainChanged",(function(e){console.log("chain changed to ".concat(e,"! updating providers")),v(new Z.providers.Web3Provider(t))})),t.on("accountsChanged",(function(){console.log("account changed!"),v(new Z.providers.Web3Provider(t))})),t.on("disconnect",(function(e,t){console.log(e,t),G()}));case 8:case"end":return e.stop()}}),e)}))),[v]);if((0,c.useEffect)((function(){D||(D=new(m())({network:"mainnet",cacheProvider:!0,theme:"dark",providerOptions:{}})),D.cachedProvider&&H()}),[H]),A&&F&&A!==F){var K=(0,d.IB)(F),Q=(0,d.IB)(A);B=1337===F&&80001===A?(0,C.jsx)("div",{style:{zIndex:2,position:"absolute",right:130,top:60,padding:16},children:(0,C.jsx)(w.Z,{message:"Wrong Network ID",type:"error",showIcon:!0,description:(0,C.jsxs)("div",{children:["You have ",(0,C.jsx)("b",{children:"chain id 1337"})," for localhost and you need to change it to ",(0,C.jsx)("b",{children:"31337"})," to work with HardHat.",(0,C.jsx)("div",{children:"(MetaMask -> Settings -> Networks -> Chain ID -> 31337)"})]}),closable:!1})}):(0,C.jsx)("div",{style:{zIndex:2,position:"absolute",top:60,right:130},children:(0,C.jsx)(w.Z,{showIcon:!0,message:"Wrong Network",type:"error",description:(0,C.jsxs)("div",{children:["You have ",(0,C.jsx)("b",{children:K&&K.name})," selected and you need to be on ",Q.name]}),closable:!1})})}else B=(0,C.jsx)("div",{style:{zIndex:2,position:"absolute",top:40,right:170,padding:16,color:R.color},children:R.name});var V=function(){var e=(0,a.Z)(i().mark((function e(t){var n,a,s,o,p,u,l,c,d,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,z.hl)((0,z.OP)(t),"notion-avatar-".concat((new Date).getTime(),".png")),e.next=3,J.store({name:"avatar",description:"Pin is not delicious beef!",image:n});case 3:return a=e.sent,console.log(a),s=a.url,e.next=8,P(X.AvatarNFT.mint(r,s),(function(e){console.log("\ud83d\udce1 Transaction Update:",e),!e||"confirmed"!==e.status&&1!==e.status||(console.log(" \ud83c\udf7e Transaction "+e.hash+" finished!"),console.log(" \u26fd\ufe0f "+e.gasUsed+"/"+(e.gasLimit||e.gas)+" @ "+parseFloat(e.gasPrice)/1e9+" gwei"))}));case 8:if(!(o=e.sent)){e.next=38;break}return e.next=12,o.wait();case 12:p=e.sent,u=null,l=E(p.events),e.prev=15,l.s();case 17:if((c=l.n()).done){e.next=25;break}if("Transfer"===(d=c.value).event){e.next=21;break}return e.abrupt("continue",23);case 21:return u=d.args.tokenId.toString(),e.abrupt("break",25);case 23:e.next=17;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(15),l.e(e.t0);case 30:return e.prev=30,l.f(),e.finish(30);case 33:return console.log("awaiting metamask/web3 confirm result...",u),e.next=36,P(X.AvatarNFT.tokenURI(u));case 36:y=e.sent,console.log("awaiting readContracts confirm result...",y);case 38:case"end":return e.stop()}}),e,null,[[15,27,30,33]])})));return function(t){return e.apply(this,arguments)}}();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(s.default,{children:[(0,C.jsx)("link",{rel:"apple-touch-icon",sizes:"57x57",href:"/favicon/apple-icon-57x57.png"}),(0,C.jsx)("link",{rel:"apple-touch-icon",sizes:"60x60",href:"/favicon/apple-icon-60x60.png"}),(0,C.jsx)("link",{rel:"apple-touch-icon",sizes:"72x72",href:"/favicon/apple-icon-72x72.png"}),(0,C.jsx)("link",{rel:"apple-touch-icon",sizes:"76x76",href:"/favicon/apple-icon-76x76.png"}),(0,C.jsx)("link",{rel:"apple-touch-icon",sizes:"114x114",href:"/favicon/apple-icon-114x114.png"}),(0,C.jsx)("link",{rel:"apple-touch-icon",sizes:"120x120",href:"/favicon/apple-icon-120x120.png"}),(0,C.jsx)("link",{rel:"apple-touch-icon",sizes:"144x144",href:"/favicon/apple-icon-144x144.png"}),(0,C.jsx)("link",{rel:"apple-touch-icon",sizes:"152x152",href:"/favicon/apple-icon-152x152.png"}),(0,C.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/favicon/apple-icon-180x180.png"}),(0,C.jsx)("link",{rel:"icon",type:"image/png",sizes:"192x192",href:"/favicon/android-icon-192x192.png"}),(0,C.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon/favicon-32x32.png"}),(0,C.jsx)("link",{rel:"icon",type:"image/png",sizes:"96x96",href:"/favicon/favicon-96x96.png"}),(0,C.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon/favicon-16x16.png"}),(0,C.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,C.jsx)("title",{children:t("siteTitle")}),(0,C.jsx)("meta",{name:"description",content:t("siteDescription")}),(0,C.jsx)("meta",{name:"msapplication-TileColor",content:"#fffefc"}),(0,C.jsx)("meta",{name:"msapplication-TileImage",content:"/favicon/ms-icon-144x144.png"}),(0,C.jsx)("meta",{name:"theme-color",content:"#fffefc"}),(0,C.jsx)("meta",{content:t("siteDescription"),name:"description"}),(0,C.jsx)("meta",{property:"og:type",content:"website"}),(0,C.jsx)("meta",{property:"og:site_name",content:t("siteTitle")}),(0,C.jsx)("meta",{property:"og:title",content:t("siteTitle")}),(0,C.jsx)("meta",{property:"og:description",content:t("siteDescription")}),(0,C.jsx)("meta",{property:"og:image",content:"https://i.imgur.com/F5R0K03.png"}),(0,C.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,C.jsx)("meta",{name:"twitter:image",content:"https://i.imgur.com/F5R0K03.png"}),(0,C.jsx)("meta",{name:"twitter:site",content:"@phillzou"}),(0,C.jsx)("meta",{name:"twitter:title",content:t("siteTitle")}),(0,C.jsx)("meta",{name:"twitter:description",content:t("siteDescription")})]}),(0,C.jsx)(p.default,{address:r,localProvider:Y,userSigner:h,mainnetProvider:e,price:"",web3Modal:D,loadWeb3Modal:H,logoutOfWeb3Modal:G,blockExplorer:"blockExplorer"}),B,(0,C.jsx)("main",{className:"my-5",children:(0,C.jsx)(l.default,{mintingNFT:V})}),(0,C.jsx)(u.default,{})]})}},8738:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8651)}])},3196:function(){}},function(e){e.O(0,[774,602,982,825,577,617,275,381,980,97,888,179],(function(){return t=8738,e(e.s=t);var t}));var t=e.O();_N_E=t}]);